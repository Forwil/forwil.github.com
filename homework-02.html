<!DOCTYPE html>
<html lang="en">

<head>
  <link rel="stylesheet/less" type="text/css" href="http://localhost:8000/theme/css/style.less">
  <script src="http://localhost:8000/theme/js/less-1.3.3.min.js" type="text/javascript"></script>
  <!-- <link rel="stylesheet" type="text/css" href="http://localhost:8000/theme/css/style.css"> -->

  <link rel="stylesheet" type="text/css" href="http://localhost:8000/theme/css/pygments.css">
  <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=PT+Sans|PT+Serif|PT+Mono">

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width; initial-scale=1.0">
  <meta name="author" content="Forwil">
  <meta name="description" content="Posts and writings by Forwil">

  <link href="http://localhost:8000/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Flat Land Full Atom Feed" />

<meta name="keywords" content="">

  <title>
Homework-02  </title>

</head>

<body>
  <aside>
    <div id="user_meta">
      <a href="http://localhost:8000">
        <img src="http://hdn.xnimg.cn/photos/hdn521/20130912/1145/tiny_aDyr_4739000119a6111a.jpg" alt="logo">
      </a>
      <h2><a href="http://localhost:8000">Forwil</a></h2>
      <p></p>
      <ul>
        <li><a href="http://localhost:8000/pages/about-me.html">About Me</a></li>
        <li><a href="/feeds/all.atom.xml" target="_blank">RSS</a></li>
      </ul>
    </div>
  </aside>

  <main>
    <header>
<p>Posted on Mon 30 September 2013</p>
    </header>

<article>
  <div id="article_title">
    <h3><a href="http://localhost:8000/homework-02.html">Homework-02</a></h3>
  </div>
  <div id="article_text">
    <h1>问题重述</h1>
<p>这次作业略繁琐。需要在一个程序内支持传递运行参数，支持横向相通，纵向相通，扩展子区域(随意联通)。</p>
<h2>问题分析</h2>
<p>需要重新构造程序，支持传入参数，有-v-h-a三种，如果是c语言的话，在<code>main()</code>函数内加<code>int argc,char *argv[]</code>就可以引用传入的参数，其中文件名在<code>argv[argc-1]</code>里，程序名在<code>argv[0]</code>里，剩下的就是支持的选项。</p>
<h3>只有-v和-h怎么做</h3>
<p>-v是上下联通，-h是左右联通。对于环形问题很容易想到的方法就是复制一份接在矩形后边，比如如果需要支持左右联通-h，那么如果原来的矩形是：</p>
<blockquote>
<p>5 6 -3 8 -9 2</p>
</blockquote>
<p>则可以往右边复制一份自己接上，变成</p>
<blockquote>
<p>5 6 -3 8 -9 2 | 5 6 -3 8 -9 2</p>
</blockquote>
<p>这样就能够包含所有环形结构，不过有个问题，这样求出来会包含长度大于m的结果，而这是不符合题意的。</p>
<p>为了避免这样的问题，从<a href="http://www.cnblogs.com/Forwil/p/3329933.html">之前的解法</a>很难再改进。</p>
<p>另外-v只需要限制上下区间的距离就能避免不合题意的情况，所以不用特殊处理。</p>
<h3>另一种思路</h3>
<p>换一种思路去考虑这个问题就比较容易了，令<code>sum[i]</code>表示<code>sigma{a[j],1&lt;=j&lt;=i}</code>(其中<code>sum[0]=0</code>)，我们的目的是最大化<code>sum[a]-sum[b]</code>，即：</p>
<blockquote>
<p>ans=Max{sum[a]-sum[b],0&lt;=b&lt;=a&lt;=m}</p>
</blockquote>
<p>从左向右循环，记录最小的<code>sum[min]</code>，对于每个<code>i</code>，以<code>a[i]</code>结尾的最大和的子串就是<code>sum[i]-sum[min]</code>，所以只需要不断更新<code>sum[min]</code>并计算最大的<code>sum[i]-sum[min]</code>就行了。时间复杂度也是<code>O(N)</code>。</p>
<p>为了限制长度<code>i-min&lt;=m</code>，可以维护一个队列<code>dd[]</code>，其中队头是<code>t</code>,队尾是<code>w</code>。其中<code>dd[i].value</code>是其<code>sum</code>值，而<code>dd[i].id</code>是该<code>sum</code>值对应的<code>i</code>。</p>
<p>维护队列t-w按<code>dd[].value</code>从小到大排序，每次取出<code>dd[t]</code>便为需要的<code>sum[min]</code>。而每次计算完一个<code>sum</code>值需要插入到队尾。</p>
<p>若<code>dd[t].id</code>距离当前i大于m，也就是取得了不符合规定的区间，那么该<code>dd[t]</code>就不能被使用，显然该值同样不能被大于i的sum使用，所以应该让其出队。</p>
<p>新加入的<code>sum[i]</code>到<code>dd[w]</code>中需要做一次插入排序，而显然所有大于<code>sum[i]</code>的队列里的元素都应该被去除。</p>
<p>所以在一次循环中，每个点只会进入单调队列一次,而且再被插入的时候就会被淘汰。所以维护单调队列不会带来复杂度的增加，仅会带来常数的增加。所以时间复杂度依然为O(n^2*m)</p>
<h3>扩展子区域 -a如何实现</h3>
<p>大概想了一下可以用状态压缩动态规划来做，这样可以得到最优解。</p>
<p>最朴素的想法是用1表示选定格子，0表示不选定格子，一行一行进行递推，只有上面的状态和下面的状态有联通才能转移。</p>
<p>具体一点说，用Dp[i][status]来表示第i行，状态为status的方格，其取到的最优子区域和是多少。用Canappend(status1,status2)来表示两个状态是否能转移。则动态规划方程为:</p>
<blockquote>
<p>Dp[i][status]=Max{Dp[i-1][status_i],status_i in status_all}+cost[i][status]</p>
</blockquote>
<p>其中cost[i][status]为取第i行中status的状态所带来的和。</p>
<p>这种想法很简单，不过可惜是错的。</p>
<p>很明显，状态数是不够的，因为单单有0和1表示的信息不够，它只能表示纵向联通的信息，而不能表示横向联通，这样最直接的结果就是终状态的合理性无法判断，所以要正确进行Dp，还需要额外的信息量。</p>
<p>用0-k表示格子的选取情况，其中0表示不取，1-k表示其处于某种联通状态。比如说</p>
<blockquote>
<p>0 1 1 2 0 2 1</p>
</blockquote>
<p>表示其中{2,3,7}为一个联通块(不管它到底怎么连的，反正在它上边就是连上了),{4,6}是另一个联通块。这样表示的信息就足够了。</p>
<p>但信息变多带来的是转移的复杂性，一行一行转移所需要处理的状态有点略多。</p>
<p>据说可以用插头Dp来实现简单转移，我看了下<a href="http://wenku.baidu.com/view/a6dce6c76137ee06eff918d1.html">一篇论文</a>，发现实现起来还是有点微难的。其复杂度上界大概是O((m/2)^m*n)，在n，m&lt;=32的情况下的运行时间依然是天文数字。所以任务很艰难，在下能力有限，还是没能写出正解来。</p>
<p>另外有一种想法是先把所有联通的正值点抽象成一个点，然后再在这些新的"大点"上作最小生成树，不过这显然没法得到最优解。</p>
<h3>程序</h3>
<p>程序只实现了-h -v两种参数。</p>
<div class="highlight"><pre><span class="cp">#include&lt;stdio.h&gt;</span>

<span class="cp">#define MAXN 1000</span>
<span class="cp">#define MAXM 1000</span>
<span class="cp">#define MINV (-2147483647)</span>
<span class="kt">int</span> <span class="n">n</span><span class="p">,</span><span class="n">m</span><span class="p">,</span><span class="n">a</span><span class="p">[</span><span class="mi">2</span><span class="o">*</span><span class="n">MAXN</span><span class="o">+</span><span class="mi">2</span><span class="p">][</span><span class="mi">2</span><span class="o">*</span><span class="n">MAXM</span><span class="o">+</span><span class="mi">2</span><span class="p">],</span><span class="n">dd</span><span class="p">[</span><span class="mi">2</span><span class="o">*</span><span class="n">MAXM</span><span class="o">+</span><span class="mi">2</span><span class="p">],</span><span class="n">id</span><span class="p">[</span><span class="mi">2</span><span class="o">*</span><span class="n">MAXM</span><span class="o">+</span><span class="mi">2</span><span class="p">];</span>

<span class="kt">void</span> <span class="nf">input</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">cin</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">;</span>
    <span class="n">freopen</span><span class="p">(</span><span class="n">cin</span><span class="p">,</span><span class="s">&quot;r&quot;</span><span class="p">,</span><span class="n">stdin</span><span class="p">);</span>
    <span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d,&quot;</span><span class="p">,</span><span class="o">&amp;</span><span class="n">n</span><span class="p">);</span>
    <span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d,&quot;</span><span class="p">,</span><span class="o">&amp;</span><span class="n">m</span><span class="p">);</span>
    <span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">n</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
        <span class="k">for</span><span class="p">(</span><span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">j</span><span class="o">&lt;</span><span class="n">m</span><span class="p">;</span><span class="n">j</span><span class="o">++</span><span class="p">)</span>
            <span class="p">{</span>
            <span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span><span class="o">&amp;</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]);</span>
            <span class="n">getchar</span><span class="p">();</span>
            <span class="p">}</span>
<span class="p">}</span>
<span class="kt">int</span> <span class="nf">donocir</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">,</span><span class="n">k</span><span class="p">,</span><span class="n">sum</span><span class="p">,</span><span class="n">ans</span><span class="p">;</span>
    <span class="n">ans</span><span class="o">=</span><span class="n">MINV</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">p</span><span class="p">[</span><span class="n">MAXM</span><span class="o">+</span><span class="mi">2</span><span class="p">];</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">n</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
        <span class="p">{</span>
        <span class="k">for</span><span class="p">(</span><span class="n">k</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">k</span><span class="o">&lt;</span><span class="n">m</span><span class="p">;</span><span class="n">k</span><span class="o">++</span><span class="p">)</span> <span class="n">p</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">j</span><span class="o">=</span><span class="n">i</span><span class="p">;</span><span class="n">j</span><span class="o">&lt;</span><span class="n">n</span><span class="p">;</span><span class="n">j</span><span class="o">++</span><span class="p">)</span>
            <span class="p">{</span>
            <span class="n">sum</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
            <span class="k">for</span> <span class="p">(</span><span class="n">k</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">k</span><span class="o">&lt;</span><span class="n">m</span><span class="p">;</span><span class="n">k</span><span class="o">++</span><span class="p">)</span>
                <span class="p">{</span>
                <span class="n">p</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="o">+=</span><span class="n">a</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="n">k</span><span class="p">];</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">sum</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">)</span><span class="n">sum</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
                <span class="n">sum</span><span class="o">+=</span><span class="n">p</span><span class="p">[</span><span class="n">k</span><span class="p">];</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">sum</span><span class="o">&gt;</span><span class="n">ans</span><span class="p">)</span>
                    <span class="n">ans</span><span class="o">=</span><span class="n">sum</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="k">return</span> <span class="n">ans</span><span class="p">;</span>
<span class="p">}</span>
<span class="kt">int</span> <span class="nf">docir</span><span class="p">(</span><span class="kt">int</span> <span class="n">ish</span><span class="p">,</span><span class="kt">int</span> <span class="n">isv</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">i</span><span class="p">,</span><span class="n">k</span><span class="p">,</span><span class="n">j</span><span class="p">,</span><span class="n">l</span><span class="p">,</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="o">*</span><span class="n">MAXM</span><span class="o">+</span><span class="mi">2</span><span class="p">],</span><span class="n">nn</span><span class="p">,</span><span class="n">mm</span><span class="p">,</span><span class="n">ans</span><span class="o">=</span><span class="n">MINV</span><span class="p">,</span><span class="n">sum</span><span class="p">,</span><span class="n">t</span><span class="p">,</span><span class="n">w</span><span class="p">,</span><span class="n">ai</span><span class="p">,</span><span class="n">aj</span><span class="p">,</span><span class="n">ak</span><span class="p">,</span><span class="n">at</span><span class="p">;</span>
    <span class="n">nn</span><span class="o">=</span><span class="n">n</span><span class="p">;</span> <span class="n">mm</span><span class="o">=</span><span class="n">m</span><span class="p">;</span>
    <span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">n</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
        <span class="k">for</span><span class="p">(</span><span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">j</span><span class="o">&lt;</span><span class="n">m</span><span class="p">;</span><span class="n">j</span><span class="o">++</span><span class="p">)</span>
            <span class="p">{</span>
            <span class="k">if</span><span class="p">(</span><span class="n">ish</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="o">+</span><span class="n">m</span><span class="p">]</span><span class="o">=</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">];</span>
            <span class="p">}</span>
            <span class="k">if</span><span class="p">(</span><span class="n">isv</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="n">n</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">=</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">];</span>
                <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="n">n</span><span class="p">][</span><span class="n">j</span><span class="o">+</span><span class="n">m</span><span class="p">]</span><span class="o">=</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">];</span>
            <span class="p">}</span>
            <span class="p">}</span>
    <span class="k">if</span><span class="p">(</span><span class="n">isv</span><span class="p">)</span><span class="n">nn</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="n">n</span><span class="p">;</span> <span class="k">else</span> <span class="n">nn</span><span class="o">=</span><span class="n">n</span><span class="p">;</span>
    <span class="k">if</span><span class="p">(</span><span class="n">ish</span><span class="p">)</span><span class="n">mm</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="n">m</span><span class="p">;</span> <span class="k">else</span> <span class="n">mm</span><span class="o">=</span><span class="n">m</span><span class="p">;</span>
    <span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">n</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
        <span class="p">{</span>
        <span class="k">for</span><span class="p">(</span><span class="n">k</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">k</span><span class="o">&lt;</span><span class="n">mm</span><span class="p">;</span><span class="n">k</span><span class="o">++</span><span class="p">)</span> <span class="n">p</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
        <span class="k">for</span><span class="p">(</span><span class="n">j</span><span class="o">=</span><span class="n">i</span><span class="p">;</span><span class="n">j</span><span class="o">&lt;</span><span class="n">nn</span> <span class="o">&amp;&amp;</span> <span class="n">j</span><span class="o">&lt;</span><span class="n">i</span><span class="o">+</span><span class="n">n</span><span class="p">;</span><span class="n">j</span><span class="o">++</span><span class="p">)</span>
            <span class="p">{</span>
            <span class="n">t</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
            <span class="n">w</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
            <span class="n">dd</span><span class="p">[</span><span class="n">t</span><span class="p">]</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
            <span class="n">id</span><span class="p">[</span><span class="n">t</span><span class="p">]</span><span class="o">=-</span><span class="mi">1</span><span class="p">;</span>
            <span class="n">sum</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
            <span class="k">for</span><span class="p">(</span><span class="n">k</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">k</span><span class="o">&lt;</span><span class="n">mm</span><span class="p">;</span><span class="n">k</span><span class="o">++</span><span class="p">)</span>
                <span class="p">{</span>
                <span class="n">p</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="o">+=</span><span class="n">a</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="n">k</span><span class="p">];</span>
                <span class="n">sum</span><span class="o">+=</span><span class="n">p</span><span class="p">[</span><span class="n">k</span><span class="p">];</span>
                <span class="k">while</span><span class="p">(</span><span class="n">k</span><span class="o">-</span><span class="n">id</span><span class="p">[</span><span class="n">t</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">m</span><span class="p">)</span><span class="n">t</span><span class="o">++</span><span class="p">;</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">sum</span><span class="o">-</span><span class="n">dd</span><span class="p">[</span><span class="n">t</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">ans</span><span class="p">)</span>
                    <span class="p">{</span>
                    <span class="n">ans</span><span class="o">=</span><span class="n">sum</span><span class="o">-</span><span class="n">dd</span><span class="p">[</span><span class="n">t</span><span class="p">];</span>
                    <span class="n">ai</span><span class="o">=</span><span class="n">i</span><span class="p">;</span>
                    <span class="n">aj</span><span class="o">=</span><span class="n">j</span><span class="p">;</span>
                    <span class="n">ak</span><span class="o">=</span><span class="n">k</span><span class="p">;</span>
                    <span class="n">at</span><span class="o">=</span><span class="n">id</span><span class="p">[</span><span class="n">t</span><span class="p">];</span>
                    <span class="p">}</span>
                <span class="k">while</span><span class="p">(</span><span class="n">sum</span><span class="o">&lt;</span><span class="n">dd</span><span class="p">[</span><span class="n">w</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="n">w</span><span class="o">&gt;=</span><span class="n">t</span><span class="p">)</span> <span class="n">w</span><span class="o">=</span><span class="n">w</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span>
                <span class="n">w</span><span class="o">=</span><span class="n">w</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
                <span class="n">dd</span><span class="p">[</span><span class="n">w</span><span class="p">]</span><span class="o">=</span><span class="n">sum</span><span class="p">;</span>
                <span class="n">id</span><span class="p">[</span><span class="n">w</span><span class="p">]</span><span class="o">=</span><span class="n">k</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d</span><span class="se">\n</span><span class="s">%d</span><span class="se">\n</span><span class="s">%d</span><span class="se">\n</span><span class="s">%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">ai</span><span class="p">,</span><span class="n">aj</span><span class="p">,</span><span class="n">at</span><span class="p">,</span><span class="n">ak</span><span class="p">);</span>
    <span class="k">return</span> <span class="n">ans</span><span class="p">;</span>
<span class="p">}</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span><span class="kt">char</span> <span class="o">*</span><span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">,</span><span class="n">ish</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">isv</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">argc</span><span class="o">==</span><span class="mi">1</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">printf</span><span class="p">(</span><span class="s">&quot;no input file!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">argc</span><span class="o">==</span><span class="mi">2</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">input</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
            <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">donocir</span><span class="p">());</span>
        <span class="p">}</span>
    <span class="k">else</span>
        <span class="p">{</span>
            <span class="n">input</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="n">argc</span><span class="o">-</span><span class="mi">1</span><span class="p">]);</span>
            <span class="k">for</span> <span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">argc</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
                <span class="k">for</span><span class="p">(</span><span class="n">j</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="n">argv</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">!=</span><span class="sc">&#39;\0&#39;</span><span class="p">;</span><span class="n">j</span><span class="o">++</span><span class="p">)</span>
                <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">==</span><span class="sc">&#39;h&#39;</span><span class="p">)</span> <span class="n">ish</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">==</span><span class="sc">&#39;v&#39;</span><span class="p">)</span> <span class="n">isv</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">docir</span><span class="p">(</span><span class="n">ish</span><span class="p">,</span><span class="n">isv</span><span class="p">));</span>
        <span class="p">}</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>


<h3>执行方法</h3>
<p>运行<code>./maxsum [options] &lt;filename&gt;</code></p>
<p>支持 -h -v -hv 和 -h -v</p>
  </div>
  <div id="article_meta">
    <p>Category: <a href="http://localhost:8000/category/misc.html">misc</a></p>
    <p>Comments: <a href="#" onclick="javascript:toggleComments();return false;">toggle</a></p>
  </div>

    <div id="article_comments" style="display:block">
        <div id="disqus_thread"></div>
        <script type="text/javascript">
           var disqus_identifier = "homework-02.html";
           (function() {
           var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
           dsq.src = 'http://flatland.disqus.com/embed.js';
           (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
          })();
        </script>
    </div>

</article>

    <footer>
<p><a href="http://localhost:8000/" class="button_accent">&larr; Back to Index</a></p>
<script language="javascript">
    function toggleComments() {
        var commentDiv = document.getElementById("article_comments");
        (commentDiv.style.display == "none") ? commentDiv.style.display = "block" : commentDiv.style.display = "none";
        return false;
    }
</script>
    </footer>

    <div id="ending_message">
      <p>&copy Forwil. Built using <a href="http://getpelican.com" target="_blank">Pelican</a>. Theme by Giulio Fidente on <a href="https://github.com/giulivo/pelican-svbhack" target="_blank">github</a>. .</p>
    </div>
  </main>
</body>
</html>